<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css"> 
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <br> <br> <br> 
    <div id="game"> 
        <div id="ship"> </div>
        <div id="rock"> </div>
    </div>

   <h1 id="score">0</h1>


   <script type=module> 
// Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyC1o0qt4QG-CZtU-1d3ZhimFGVajbs43Wo",
          authDomain: "cosmic-crusade-59751.firebaseapp.com",
          databaseURL: "https://cosmic-crusade-59751-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "cosmic-crusade-59751",
          storageBucket: "cosmic-crusade-59751.appspot.com",
          messagingSenderId: "332229158266",
          appId: "1:332229158266:web:a7f48c187c04f29e4162c3",
          measurementId: "G-24HWDV998Y"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
      
  
  
  import {getDatabase, set, get, update,remove, ref, child}
        from "https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js"


        const db = getDatabase();

    // database code ends here 

const ship = document.getElementById('ship');
const rock = document.getElementById('rock');
const score = document.getElementById('score');
// Const for varibles for defining objects and things that won't be changed . 

function jump() {
    ship.classList.add("jump-animation");
    setTimeout(() =>
      ship.classList.remove("jump-animation"), 500);
  }
  
  document.addEventListener('keydown', (event) => {
    if (event.code == 'ArrowUp' && !ship.classList.contains('jump-animation') || event.code == 'Space' && !ship.classList.contains('jump-animation')) {
      jump();
    }
  });
  
  setInterval(() => {
    const shipTop = parseInt(window.getComputedStyle(ship)
      .getPropertyValue('top'));
    const rockLeft = parseInt(window.getComputedStyle(rock)
      .getPropertyValue('left'));
    
  
    if (rockLeft < 1) {
      rock.style.display = 'none';
      score.innerText++;
    } else {
      rock.style.display = ''
    }
  
    if (rockLeft < 50 && rockLeft > 0 && shipTop > 150) {
      alert("Your score is: " + score.innerText +
        " replay?");
      location.reload();
    }
  }, 50);

</script> 

</body>
</html>